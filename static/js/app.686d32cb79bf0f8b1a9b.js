webpackJsonp([1],{23:function(t,s,e){function n(t){e(77)}var a=e(24)(e(45),e(81),n,"data-v-b8b833d0",null);t.exports=a.exports},25:function(t,s,e){"use strict";var n=e(10),a=e(82),i=e(9),o=(e.n(i),e(23)),r=e.n(o);n.a.use(a.a),s.a=new a.a({routes:[{path:"/",name:"TaskManager",component:r.a}]})},26:function(t,s){},44:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n=e(23),a=e.n(n),i=e(11);e.n(i);s.default={name:"app",components:{TaskManager:a.a}}},45:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),function(t){var n=e(48),a=e.n(n),i=e(11),o=e.n(i),r=e(1);e.n(r);s.default={data:function(){return{category:[],taskManager:[],submenu:[],submenus:[],tasks:[],showedTask:{},isCate:!1,menuChosen:!1,subChosen:!1,taskChosen:!1,isEditCmd:!1,showEditor:!1,test:"testa",taskIndex:null,doneType:"all",itemShowed:null}},methods:{getTask:function(t,s,e){var n=t.currentTarget;if(this.taskChosenStyHandler(n),this.showEditor)return!1;this.showedTask=s,this.taskIndex=e,this.taskChosen=!0},modiTask:function(t){if("edit"===t){if(!this.taskChosen)return alert("未选中任务"),!1;this.isEditCmd=!0,this.showEditor=!0}if("add"===t){if(!this.subChosen)return alert("未选中子目录"),!1;this.showEditor=!0}},cancelModi:function(){confirm("确定取消编辑么?")&&(this.showEditor=!1,this.isEditCmd=!1)},confirmModi:function(){var t={};t.title=this.$refs.title.value.trim(),t.date=Math.floor(+new Date/1e3),t.content=this.$refs.content.value.trim(),this.isEditCmd?(this.tasks[this.taskIndex]=a()({},this.tasks[this.taskIndex],t),this.showedTask=t):(t.done=!1,this.tasks.push(t)),this.showEditor=!1,this.isEditCmd=!1},addMenu:function(){var t="";(t=prompt("输入目录名称:").trim())&&this.taskManager.push({category:t,submenu:[]})},addSubmenu:function(){var t="";if(!this.menuChosen)return alert("请先选择目录或子目录"),!1;(t=prompt("输入子目录名称:").trim())&&this.submenus.push({name:t,tasks:[]})},selectCate:function(t,s){if(this.menuChosenStyHandler(t.currentTarget),this.showEditor)return!1;this.menuChosen=!0,this.subChosen=!1,this.isCate=!0,this.category=s,this.submenus=s.submenu;for(var e=[],n=0;n<this.submenus.length;n++){var a=this.submenus[n];e=e.concat(a.tasks)}this.tasks=e},selectSub:function(t,s,e){if(this.menuChosenStyHandler(t.currentTarget),this.showEditor)return!1;this.menuChosen=!0,this.subChosen=!0,this.isCate=!1,this.submenu=s,this.submenus=e,this.tasks=this.submenu.tasks},chooseDoneType:function(t){this.doneType=t},_test:function(){console.log(this.test)},menuChosenStyHandler:function(s){var e=s.classList[0];t(".l-side0").find("."+e).removeClass("on"),t(s).addClass("on")},taskChosenStyHandler:function(s){t(".cont-inner").find("li").removeClass("on"),t(s).addClass("on")},getFormattedDate:function(t,s){var e=new Date(1e3*t),n=e.getMonth()+1,a=e.getDate(),i=e.getHours(),o=e.getMinutes(),r=e.getSeconds();n=(n<10?"0":"")+n,a=(a<10?"0":"")+a,i=(i<10?"0":"")+i,o=(o<10?"0":"")+o,r=(r<10?"0":"")+r;var d=e.getFullYear()+"-"+n+"-"+a+" "+i+":"+o+":"+r;return s&&(d=e.getFullYear()+"-"+n+"-"+a),d},eliminateDuplicates:function(t){var s,e=t.length,n=[],a={};for(s=0;s<e;s++)a[t[s]]=0;for(s in a)n.push(s);return n}},computed:{_date:function(){},sortedTasks:function(){for(var t=[],s=0;s<this.tasks.length;s++){var e=this.tasks[s];t.push(e.date)}t=this.eliminateDuplicates(t);for(var n={},a=0;a<t.length;a++)for(var i=t[a],o=n[i]=[],r=0;r<this.tasks.length;r++){var d=this.tasks[r];d.date===i&&o.push(d)}return console.log(n),n},getRenderedLen:function(){for(var t=this.tasks,s=this.doneType,e=!1,n=[],a=0;a<t.length;a++){var i=t[a];"done"===s?i.done&&n.push[i]:"undone"===s&&(i.done||n.push[i])}return 0===n.length&&(e=!0),"all"===s&&(e=!1),e}},created:function(){var t=this;o.a.get("static/data.json").then(function(s){t.taskManager=s.data.taskManager,console.log(t.taskManager)})}}}.call(s,e(1))},46:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),function(t){var s=e(10),n=e(9),a=e.n(n),i=e(25),o=e(1),r=e.n(o),d=e(26);e.n(d);r.a,s.a.config.productionTip=!1,new s.a({el:"#app2",router:i.a,template:"<app/>",components:{App:a.a}})}.call(s,e(1))},76:function(t,s){},77:function(t,s){},80:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]}},81:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"task-manager"},[e("div",{staticClass:"top-bar"},[t._v("\n    日常任务管理器\n  ")]),t._v(" "),e("div",{staticClass:"main"},[e("div",{staticClass:"l-side0 bo-r"},[e("div",{staticClass:"cont-wra bo-b"},t._l(t.taskManager,function(s){return e("div",{staticClass:"menu "},[e("p",{staticClass:"_menu",on:{click:function(e){e.stopPropagation(),t.selectCate(e,s)}}},[t._v(t._s(s.category))]),t._v(" "),e("ul",t._l(s.submenu,function(n){return e("li",{staticClass:"_menu",on:{click:function(e){e.stopPropagation(),t.selectSub(e,n,s.submenu)}}},[t._v(t._s(n.name))])}))])})),t._v(" "),e("div",{staticClass:"footer"},[e("div",{staticClass:"bo-r",on:{click:t.addMenu}},[t._v("新增分类")]),t._v(" "),e("div",{on:{click:t.addSubmenu}},[t._v("新增子分类")])])]),t._v(" "),e("div",{staticClass:"l-side1 bo-r"},[e("div",{staticClass:"header bo-b"},[e("span",{class:{on:"all"==t.doneType},on:{click:function(s){t.chooseDoneType("all")}}},[t._v("所有")]),t._v(" "),e("span",{class:{on:"done"==t.doneType},on:{click:function(s){t.chooseDoneType("done")}}},[t._v("已完成")]),t._v(" "),e("span",{class:{on:"undone"==t.doneType},on:{click:function(s){t.chooseDoneType("undone")}}},[t._v("未完成")])]),t._v(" "),e("div",{staticClass:"cont-wra bo-b"},[e("div",{staticClass:"cont-inner"},[e("ul",{staticClass:"day-wra"},t._l(t.tasks,function(s,n){return"all"==t.doneType||("done"==t.doneType?s.done:!s.done)?e("li",{class:{done:s.done},on:{click:function(e){t.getTask(e,s,n)}}},[t._v(t._s(s.title))]):t._e()}))])]),t._v(" "),e("div",{staticClass:"footer",on:{click:function(s){t.modiTask("add")}}},[t._v("新增任务")])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.showEditor,expression:"!showEditor"}],staticClass:"content"},[e("div",{staticClass:"header title bo-b"},[e("div",[t._v("标题: "+t._s(t.showedTask.title))]),t._v(" "),e("div",{staticClass:"operate"},[e("span",{staticClass:"_mark",on:{click:function(s){t.showedTask.done=!0}}},[t._v("标记完成")]),t._v(" "),e("span",{on:{click:function(s){t.modiTask("edit")}}},[t._v("编辑")])])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.taskChosen,expression:"taskChosen"}],staticClass:"header date bo-b"},[t._v("日期: "+t._s(t.getFormattedDate(t.showedTask.date,!1)))]),t._v(" "),e("div",{staticClass:"text-cont"},[t._v(t._s(t.showedTask.content))])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showEditor,expression:"showEditor"}],staticClass:"content",class:{editor:t.showEditor}},[e("div",{staticClass:"header title bo-b"},[e("div",[t._v("标题:\n          "),e("input",{ref:"title",attrs:{type:"text"},domProps:{value:t.isEditCmd?t.showedTask.title:""}})])]),t._v(" "),e("div",{staticClass:"header date bo-b"},[t._v("日期:\n          "),e("span",{ref:"date",domProps:{textContent:t._s(t.isEditCmd?t.showedTask.date:"")}})]),t._v(" "),e("div",{staticClass:"text-cont bo-b"},[e("span",[t._v("正文:")]),t._v(" "),e("textarea",{ref:"content",attrs:{name:"",id:"",cols:"30",rows:"10"},domProps:{value:t.isEditCmd?t.showedTask.content:""}})]),t._v(" "),e("div",{staticClass:"footer"},[e("span",{on:{click:t.confirmModi}},[t._v("确定")]),t._v(" "),e("span",{on:{click:t.cancelModi}},[t._v("取消")])])])])])},staticRenderFns:[]}},9:function(t,s,e){function n(t){e(76)}var a=e(24)(e(44),e(80),n,null,null);t.exports=a.exports}},[46]);
//# sourceMappingURL=app.686d32cb79bf0f8b1a9b.js.map